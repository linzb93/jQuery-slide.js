/*
 * jQuery.slide.js V2.1
 *
 * https://github.com/linzb93/jquery.slide.js
 * API https://github.com/linzb93/jquery.slide.js/blob/master/doc/API.md
 * @license MIT licensed
 *
 * Copyright (C) 2016 linzb93
 *
 * Date: 2016-09-11
 */

(function(c){var e={dir:"horizontal",speed:500,prev:"",next:"",effect:"slide",loop:true,perGroup:1,perSlideView:1,autoPlay:0,pagination:"",paginationType:"dot",paginationEvent:"click",wheel:false,stopOnHover:true};var a="slide-active";function b(f,d){this.$this=f;var g=c.extend({},e,d);this.o=g;this.$pagination=c(this.o.pagination);this.$list=this.$this.children("ul");this.$li=this.$list.children("li");this.liW=this.$li.width();this.liH=this.$li.height();this.liSize=this.o.dir==="horizontal"?this.liW:this.liH;this.length=Math.ceil((this.$li.length-this.o.perGroup)/this.o.perSlideView)+1;this.$pageChild=null;this.timer=null;this.ci=0;this.ni=0;this.lock=false;this.init()}c.extend(b.prototype,{init:function(){var d=this;if(this.o.effect==="fade"){this.$this.width(this.liW).height(this.liH);this.$list.addClass("slide-fade");this.$li.first().show()}else{if(this.o.effect==="fullPage"){this.$li.width(c("body").width()).height(c("body").height());this.liW=this.$li.width();this.liH=this.$li.height();this.liSize=this.o.dir==="horizontal"?this.liW:this.liH}if(this.o.dir==="horizontal"){this.$this.width(d.liW*this.o.perGroup);this.$list.width(d.liW*d.o.perSlideView*d.length)}else{this.$this.height(d.liH*this.o.perGroup);this.$list.height(d.liH*d.o.perSlideView*d.length)}this.$list.addClass("slide-"+d.o.dir);this.$li.first().addClass(a)}if(this.o.pagination){this.cp()}if(this.o.effect==="slide"&&this.o.loop){this.dl()}this.be();this.sa()},cp:function(){var h=this;if(this.o.paginationType==="outer"){this.$pageChild=this.$pagination.children().length===this.length?this.$pagination.children():null}else{var g="";for(var f=0,d;f<this.length;f++){d=this.o.paginationType==="num"?f:"";g+='<a href="javascript:;">'+d+"</a>"}this.$pagination.append(g);this.$pageChild=this.$pagination.children()}this.$pageChild.first().addClass("on")},fpr:function(){var d=this;this.$li.width(c("body").width()).height(c("body").height());this.liW=this.$li.width();this.liH=this.$li.height();this.liSize=this.o.dir==="horizontal"?this.liW:this.liH;if(this.o.dir==="horizontal"){this.$list.css({width:d.liW*d.length,left:-d.liW*d.ci});this.$this.width(d.liW)}else{this.$list.css({height:d.liH*d.length,top:-d.liH*d.ci});this.$this.height(d.liH)}},be:function(){var f=this,d=this.o.paginationEvent;if(this.$pageChild){this.$pageChild.on(d,function(){if(f.ci===c(this).index()){return}f.slideTo(c(this).index())})}if(this.o.prev||this.o.next){c(this.o.prev).on(d,function(){f.slidePrev()});c(this.o.next).on(d,function(){f.slideNext()})}if(this.o.effect==="fullPage"){c(document).on("mousewheel DOMMouseScroll",function(g){if(!f.o.wheel||f.lock){return}f.lock=true;g.preventDefault();(g.originalEvent.wheelDelta||-g.originalEvent.detail)>0?f.slidePrev():f.slideNext()});c(window).on("resize",function(){f.fpr()})}if(this.o.stopOnHover&&this.o.autoPlay){this.$this.on({"mouseover":function(){clearInterval(f.timer);f.$list.stop(true,true)},"mouseout":function(){f.sa()}})}},sa:function(){var d=this;if(this.o.autoPlay){this.timer=setInterval(function(){d.th("next")},d.o.autoPlay)}},slidePrev:function(){this.th("prev")},slideNext:function(){this.th("next")},slideTo:function(d){this.th("to",d)},th:function(f,d){if(this.o.effect!=="fullPage"){if(this.lock){return}this.lock=true}switch(this.o.effect){case"slide":this.sph(f,d);break;case"carousel":this.ch(f,d);break;case"fullPage":this.fph(f,d);break;case"fade":this.fh(f,d);break}},dh:function(f,d){if(f==="prev"){if(this.ci===0){if(this.o.loop){this.ni=this.length-1}else{return}}else{this.ni=this.ci-1}}else{if(f==="next"){if(this.ci===this.length-1){if(this.o.loop){this.ni=0}else{return}}else{this.ni=this.ci+1}}else{this.ni=d}}},sph:function(f,d){if(f==="prev"){if(!this.o.loop&&this.ci===0){this.lock=false;return}else{this.ni=this.ci-1}}else{if(f==="next"){if(!this.o.loop&&this.ci===this.length-1){this.lock=false;return}else{this.ni=this.ci+1}}else{this.ni=d}}this.ssp(this.ni)},ch:function(f,d){this.dh(f,d);this.sc(this.ni)},fph:function(f,d){this.dh(f,d);this.sfp(this.ni)},fh:function(f,d){if(f==="prev"){if(this.ci>0||(this.ci===0&&this.o.loop)){this.sf(this.ci-1)}else{this.lock=false}}else{if(f==="next"){if(this.ci<this.length-1||(this.ci===this.length-1&&this.o.loop)){this.sf(this.ci+1)}else{this.lock=false}}else{if(f==="to"){this.sf(d)}}}},dl:function(){var d=this;this.$li.last().clone().prependTo(this.$list);this.$li.first().clone().appendTo(this.$list);this.o.dir==="horizontal"?this.$list.css({left:-d.liW+"px",width:d.liW*(d.length+2)}):this.$list.css({top:-d.liH+"px",height:d.liH*(d.length+2)});this.$list.children("li").last().removeClass(a)},cc:function(){this.$li.eq(this.ci).addClass(a).siblings().removeClass(a);if(this.o.pagination){this.$pageChild.eq(this.ci).addClass("on").siblings().removeClass("on")}},dsp:function(d){var f=this,g=(this.o.effect==="slide"&&this.o.loop)?d+1:d;this.o.dir==="horizontal"?this.$list.animate({left:-g*f.liSize*f.o.perSlideView},this.o.speed,function(){f.scb(d)}):this.$list.animate({top:-g*f.liSize*f.o.perSlideView},this.o.speed,function(){f.scb(d)})},ssp:function(d){this.dsp(d)},sc:function(d){this.dsp(d)},sfp:function(d){this.dsp(d)},sf:function(d){var f=this;if(d===this.length){d=0}else{if(d===-1){d=this.length-1}}this.$li.eq(d).fadeIn(this.o.speed,function(){f.scb(d)}).siblings().fadeOut(this.o.speed)},scb:function(d){this.ci=d;if(this.o.effect==="slide"){var f=this.o.dir==="horizontal"?"left":"top";if(this.o.loop){if(this.ci<0){this.ci=this.length-1;this.$list.css(f,-this.liW*this.length)}else{if(this.ci===this.length){this.ci=0;this.$list.css(f,-this.liW)}}}}this.cc();this.lock=false}});c.fn.slide=function(d){new b(c(this),d)}}(jQuery));