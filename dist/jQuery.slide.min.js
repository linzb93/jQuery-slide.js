/*
 * jQuery.slide.js V2.3
 * https://github.com/linzb93/jquery.slide.js
 * @license MIT licensed
 *
 * Copyright (C) 2016 linzb93
 *
 * Date: 2016-11-3
 */

(function(e){var g={dir:"h",speed:500,prev:"",next:"",effect:"slide",perGroup:1,perSlideView:1,autoPlay:0,pagination:"",paginationType:"dot",paginationEvent:"click",lazyload:false,showWidget:false,beforeSlideFunc:function(){},afterSlideFunc:function(){}};var b="slide-pagination-wrapper";var f="slide-active";function a(d){return d.find("img").attr("src")||d.find("img").attr("data-src")||d.css("background-image").slice(5,-2)}function c(h,d){this.$this=h;this.o=e.extend({},g,d);this.$p=e(this.o.prev);this.$n=e(this.o.next);this.$y=e(this.o.pagination);this.$z=this.$this.children("ul");this.$li=this.$z.children("li");this.ls=this.o.dir==="h"?this.$li.outerWidth(true):this.$li.outerHeight(true);this.z=Math.ceil((this.$li.length-this.o.perGroup)/this.o.perSlideView)+1;this.$r=null;this.t=null;this.ci=0;this.il=0;this.lo=false;this.$w=this.$p.add(this.$n).add(this.$y);this.init()}c.prototype={init:function(){var i=this;if(this.o.effect==="fade"){this.$this.width(this.ls).height(this.$li.height());this.$z.addClass("slide-pile");this.$li.hide().first().show()}else{var h=this.ls*this.o.perGroup,d=this.ls*this.$li.length;this.$this.addClass("slide-container");if(this.o.dir==="h"){this.$this.width(h);this.$z.width(d)}else{this.$this.height(h);this.$z.height(d)}this.$z.addClass("slide-"+this.o.dir)}this.$li.first().addClass(f);if(this.$y){this.cp()}if(this.o.lazyload){this.ll(0);if(this.o.effect==="slide"){this.ll(-1)}}if(this.o.effect==="slide"){this.dl()}this.ie();this.sa();if(this.o.effect==="marquee"){this.mh()}},cp:function(){var l=this;if(this.o.paginationType!="outer"){var k="";for(var h=0,d;h<this.z;h++){switch(this.o.paginationType){case"dot":d="";break;case"num":d=h;break;case"image":d='<img src="'+a(l.$li.eq(h))+'">';break}k+='<a href="javascript:;">'+d+"</a>"}this.$y.append(k)}this.$r=this.$y.children();this.$r.first().addClass("on");if(this.o.paginationType==="image"){this.$r.wrapAll('<div class="'+b+'" />');if(this.o.paginationFollow==="h"){this.$y.find("."+b).width(this.$r.outerWidth(true)*this.$li.length)}else{if(this.o.paginationFollow==="f"){this.$y.find("."+b).height(this.$r.outerHeight(true)*this.$li.length)}}}},ie:function(){var h=this,d=this.o.paginationEvent;if(this.$r){this.$y.on(d,"a",function(){var i=e(this).index();if(h.ci===i){return}h.th("to",i)})}if(this.o.prev||this.o.next){this.$p.on(d,function(){h.th("prev")});this.$n.on(d,function(){h.th("next")})}this.$this.parent().on({"mouseenter":function(){if(h.o.autoPlay||h.o.effect==="marquee"){clearInterval(h.t);h.$z.clearQueue()}if(h.o.showWidget){h.$w.stop(true,true).fadeIn()}},"mouseleave":function(){if(h.o.autoPlay){h.sa()}if(h.o.effect==="marquee"){h.mh()}if(h.o.showWidget){h.$w.stop(true,true).fadeOut()}}})},sa:function(){var d=this;if(this.o.autoPlay){this.t=setInterval(function(){d.th("next")},d.o.autoPlay)}},th:function(h,d){switch(this.o.effect){case"slide":this.y(h,d);break;case"carousel":this.ch(h,d);break;case"fade":this.fh(h,d);break}},y:function(h,d){if(this.lo){return}if(h==="prev"){if(!this.ci){this.lo=true}this.ci-=1}else{if(h==="next"){if(this.ci===this.z-1){this.lo=true}this.ci+=1}else{this.ci=d}}this.sp(this.ci)},ch:function(h,d){if(h==="prev"){this.ci=!this.ci?this.z-1:this.ci-1}else{if(h==="next"){this.ci=this.ci===this.z-1?0:this.ci+1}else{this.ci=d}}this.sp(this.ci)},fh:function(h,d){if(h==="prev"){this.ci=this.ci?this.ci-1:this.z-1}else{if(h==="next"){this.ci=this.ci<this.z-1?this.ci+1:0}else{this.ci=d}}this.sf(this.ci)},mh:function(){var d=this;this.t=setInterval(function(){if(d.ci<d.$li.length-d.o.perGroup){d.sp(++d.ci)}else{d.ci=-1;setTimeout(function(){if(d.o.dir==="h"){d.$z.css("left",0)}else{d.$z.css("top",0)}},d.o.speed)}},d.o.speed+20)},dl:function(){var i=this,d=-this.ls+"px",h=this.ls*(this.z+2);this.$li.first().removeClass(f).clone().appendTo(this.$z);this.$li.last().clone().prependTo(this.$z);this.$li.first().addClass(f);this.o.dir==="h"?this.$z.css({left:d,width:h}):this.$z.css({top:d,height:h})},ll:function(d){var j=this;for(var h=0;h<this.o.perGroup;h++){this.$li.eq(d*this.o.perSlideView+h).find("img").each(function(){if(e(this).attr("data-src")){e(this).attr("src",e(this).data("src"));e(this).removeAttr("data-src");j.il++}})}},db:function(){if(this.o.lazyload&&this.il<=this.$li.length){this.ll(this.ci)}this.o.beforeSlideFunc()},sp:function(h){this.db();var j=this;var d=this.o.effect==="slide"?h+1:h;var i=-d*this.ls*this.o.perSlideView;this.o.dir==="h"?this.$z.stop(true).animate({left:i},this.o.speed,"linear",function(){j.x(h)}):this.$z.stop(true).animate({top:i},this.o.speed,"linear",function(){j.x(h)})},sf:function(d){this.db();var h=this;this.$li.eq(d).fadeIn(this.o.speed,function(){h.x()}).siblings().fadeOut(this.o.speed)},c3:function(){var d=this;if(this.$y){this.$r.removeClass("on").eq(this.ci).addClass("on")}this.$li.removeClass(f).eq(this.ci).addClass(f)},x:function(d){if(this.o.effect==="slide"){var h=this.o.dir==="h"?"left":"top";if(this.ci===-1){this.ci=this.z-1;this.$z.css(h,-this.ls*this.z)}else{if(this.ci===this.z){this.ci=0;this.$z.css(h,-this.ls)}}this.lo=false}else{if(this.o.effect==="marquee"){this.ci=d}}this.c3();this.o.afterSlideFunc()}};e.fn.slide=function(d){return this.each(function(){new c(e(this),d)})}}(jQuery));