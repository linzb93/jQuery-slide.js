/*
 * jQuery.slide.js V2.3.1
 *
 * https://github.com/linzb93/jquery.slide.js
 * @license MIT licensed
 *
 * Copyright (C) 2016 linzb93
 *
 * Date: 2016-12-2
 */

!function(i){function t(i){return i.find("img").attr("src")||i.css("background-image").slice(5,-2)}function e(t,e){this.$t=t,this.o=i.extend({},s,e),this.$p=i(this.o.prev),this.$n=i(this.o.next),this.$y=i(this.o.pagination),this.$l=this.$t.children("ul"),this.$li=this.$l.children("li"),this.ls="h"===this.o.dir?this.$li.outerWidth(!0):this.$li.outerHeight(!0),this.y=Math.ceil((this.$li.length-this.o.perGroup)/this.o.perSlideView)+1,this.$z=null,this.t=null,this.ci=0,this.il=0,this.canSlide=!1,this.$w=this.$p.add(this.$n).add(this.$y),this.needDuplicateEdge=this.o.autoPlay||this.o.next,this.i()}var s={dir:"h",speed:500,prev:"",next:"",effect:"slide",perGroup:1,perSlideView:1,autoPlay:0,pagination:"",paginationType:"dot",paginationEvent:"click",paginationFollow:"",lazyload:!1,showWidget:!1,beforeSlideFunc:function(){},afterSlideFunc:function(){}},n="slide-active";e.prototype={i:function(){if("fade"===this.o.effect)this.$t.width(this.ls).height(this.$li.height()),this.$l.addClass("slide-pile"),this.$li.hide().first().show();else{var i=this.ls*this.o.perGroup,t=this.ls*this.$li.length;this.$t.addClass("slide-container"),"h"===this.o.dir?(this.$t.width(i),this.$l.width(t)):(this.$t.height(i),this.$l.height(t)),this.$l.addClass("slide-"+this.o.dir)}this.$li.first().addClass(n),this.$y&&this.cp(),this.o.lazyload&&(this.ll(0),"slide"===this.o.effect&&this.ll(-1)),"slide"===this.o.effect&&this.needDuplicateEdge&&this.duplicateEdge(),this.iEvent(),this.sa(),"marquee"===this.o.effect&&this.mh()},cp:function(){var i=this;if("outer"!=this.o.paginationType){for(var e,s="",n=0;n<this.y;n++){switch(this.o.paginationType){case"dot":e="";break;case"num":e=n;break;case"image":e='<img src="'+t(i.$li.eq(n))+'">'}s+='<a href="javascript:;">'+e+"</a>"}this.$y.append(s)}this.$z=this.$y.children(),this.$z.first().addClass("on")},iEvent:function(){var t=this,e=this.o.paginationEvent;this.$z&&this.$y.on(e,"a",function(){var e=i(this).index();t.ci!==e&&t.th("to",e)}),(this.o.prev||this.o.next)&&(this.$p.on(e,function(){t.th("prev")}),this.$n.on(e,function(){t.th("next")})),this.$t.parent().on({mouseenter:function(){(t.o.autoPlay||"marquee"===t.o.effect)&&(clearInterval(t.t),t.$l.clearQueue()),t.o.showWidget&&t.$w.stop(!0,!0).fadeIn()},mouseleave:function(){t.o.autoPlay&&t.sa(),"marquee"===t.o.effect&&t.mh(),t.o.showWidget&&t.$w.stop(!0,!0).fadeOut()}})},sa:function(){var i=this;this.o.autoPlay&&(this.t=setInterval(function(){i.th("next")},i.o.autoPlay))},th:function(i,t){switch(this.o.effect){case"slide":this.z(i,t);break;case"carousel":this.ch(i,t);break;case"fade":this.fh(i,t)}},z:function(i,t){this.canSlide||("prev"===i?(this.ci||(this.canSlide=!0),this.ci-=1):"next"===i?(this.ci===this.y-1&&(this.canSlide=!0),this.ci+=1):this.ci=t,this.sp(this.ci))},ch:function(i,t){"prev"===i?this.ci=this.ci?this.ci-1:this.y-1:"next"===i?this.ci=this.ci===this.y-1?0:this.ci+1:this.ci=t,this.sp(this.ci)},fh:function(i,t){"prev"===i?this.ci=this.ci?this.ci-1:this.y-1:"next"===i?this.ci=this.ci<this.y-1?this.ci+1:0:this.ci=t,this.sf(this.ci)},mh:function(){var i=this;this.t=setInterval(function(){i.ci<i.$li.length-i.o.perGroup?i.sp(++i.ci):(i.ci=-1,setTimeout(function(){"h"===i.o.dir?i.$l.css("left",0):i.$l.css("top",0)},i.o.speed))},i.o.speed+20)},duplicateEdge:function(){var i=-this.ls+"px",t=this.ls*(this.y+2);this.$li.first().removeClass(n).clone().appendTo(this.$l),this.$li.last().clone().prependTo(this.$l),this.$li.first().addClass(n),"h"===this.o.dir?this.$l.css({left:i,width:t}):this.$l.css({top:i,height:t})},ll:function(t){var e=this.$li.eq(t);e.attr("data-bg")?e.css("background-image",e.data("bg")).removeAttr("data-bg"):e.find("img").each(function(){i(this).attr("src",i(this).data("src")),i(this).removeAttr("data-src")}),this.il++},x:function(){this.o.lazyload&&this.il<=this.$li.length&&this.ll(this.ci),this.o.beforeSlideFunc(this.ci-1,this.$li.eq(this.ci-1))},sp:function(i){this.x(i);var t=this,e="slide"===this.o.effect&&this.needDuplicateEdge?i+1:i,s=-e*this.ls*this.o.perSlideView;"h"===this.o.dir?this.$l.stop(!0).animate({left:s},this.o.speed,"linear",function(){t.sc(i)}):this.$l.stop(!0).animate({top:s},this.o.speed,"linear",function(){t.sc(i)})},sf:function(i){this.x();var t=this;this.$li.eq(i).fadeIn(this.o.speed,function(){t.sc(i)}).siblings().fadeOut(this.o.speed)},c3:function(i){this.$y&&this.$z.removeClass("on").eq(i).addClass("on"),this.$li.removeClass(n).eq(i).addClass(n)},sc:function(i){if("slide"===this.o.effect){var t="h"===this.o.dir?"left":"top";this.ci===-1?(this.ci=this.y-1,this.$l.css(t,-this.ls*this.y)):this.ci===this.y&&(this.ci=0,this.$l.css(t,-this.ls)),this.canSlide=!1}else"marquee"===this.o.effect&&(this.ci=i);this.c3(this.ci),this.o.afterSlideFunc(this.ci,this.$li.eq(this.ci))}},i.fn.slide=function(t){new e(i(this),t)}}(jQuery);